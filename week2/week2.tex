\documentclass[UTF8,a4paper]{ctexart}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage[margin=1.5in]{geometry}
\usepackage{float}
\usepackage{listings} 
\usepackage{fancyhdr} %用于调整页眉的样式
\usepackage{fancyvrb} 
\usepackage{tabularx}
\usepackage[colorlinks,linkcolor=blue]{hyperref}%用于插入超链接
\usepackage{wallpaper}
\usepackage{tikz}
\usepackage{lipsum}
\usepackage{rotating}
\usepackage{multirow}
\usepackage[absolute]{textpos}
\usetikzlibrary{calc}
\setlength{\TPHorizModule}{1cm}
\setlength{\TPVertModule}{1cm}



\definecolor{color1}{RGB}{10,80,179}
\pagestyle{fancy}
\fancyhead[L]{\url{https://github.com/eric041224/tool_class_2024_sum}}
\setlength{\headheight}{27pt}

\definecolor{GradientTop}{RGB}{0,0,255}
\definecolor{GradientBottom}{RGB}{255,0,0}
\colorlet{GradientMid}{blue!50!red}

\lstset{
    numbers=left,
    numberstyle=\tiny,
    frame=shadowbox,
    rulesepcolor= \color{ red!20!green!20!blue!20},
    escapeinside=``,
    xleftmargin=2em,aboveskip=1em,
    framexleftmargin=2em,
    breaklines=true
}

\hypersetup{
    colorlinks=true,            % 激活链接颜色，去掉链接边框
    urlcolor=color1           % 外部URL链接颜色
}

\begin{document}
%封面
\ThisCenterWallPaper{1.02}{background.png} 
\begin{textblock}{5}(1,2)
    % 设置字号为20pt
    \fontsize{15}{24}\selectfont
    \color{white}
    \begin{turn}{270}
         \qquad 取则行远
        \end{turn}
        \begin{turn}{270}
            海纳百川 
            \end{turn}
    
    \end{textblock}
\begin{center}
    %logo
    \begin{tikzpicture}[remember picture, overlay]
        % 绘制一个矩形，并设置其位置在页面的右上角
        \draw[fill=blue] (current page.north east) rectangle (current page.north west);
        % 在矩形中插入图片，并设置与右上角的距离
        \node[anchor=north east, xshift=-1cm, yshift=-2cm] at (current page.north east) {
            \includegraphics[width=6cm]{logo.png}
        };
    \end{tikzpicture}

\begin{textblock}{5}(1,24)
    
    \fontsize{120}{24}\selectfont
    \color{color1}
    Week2
       
    
    \end{textblock}

\begin{textblock}{5}(14.5,24)
    
    \fontsize{19}{24}\selectfont
    \color{color1}
    \raggedleft
    左昊天\\
    2024-08-30 \\
    \href{https://github.com/eric041224/tool_class_2024_sum}{Github 仓库地址}\\ 
    
    \end{textblock}

   
\end{center}

\thispagestyle{empty}

\newpage
\color{black}
\section{Shell}
\setcounter{page}{1} %从这开始页面编号
\subsection{新建文件}
\subsubsection{创建任意类型的文件：}
\begin{lstlisting}
    touch 文件名
\end{lstlisting}

\subsubsection{创建可写入内容的文件：}
\begin{lstlisting}
    echo "要写入的内容">test.txt
\end{lstlisting}
\includegraphics[width=1\textwidth]{create.png}\\
\includegraphics[width=1\textwidth]{create2.png}

\subsection{新建文件夹}
\subsubsection{新建单个文件夹：}
\begin{lstlisting}
    mkdir 文件夹名
\end{lstlisting}
\subsubsection{新建多个文件夹：}
\begin{lstlisting}
    mkdir 文件夹名1 文件夹名2 文件夹名3
\end{lstlisting}
\includegraphics[width=1\textwidth]{./pictures/新建多个.png}\\
\includegraphics[width=1\textwidth]{./pictures/新建多个2.png}

\subsubsection{新建多级文件夹：}
\begin{lstlisting}
    mkdir -p 文件夹名1/文件夹名2/文件夹名3
\end{lstlisting}
\includegraphics[width=1\textwidth]{./pictures/多级.png}\\
\includegraphics[width=0.7\textwidth]{./pictures/多级2.png}

\subsection{将命令一行一行写入脚本文件并执行}
用echo逐行添加命令，再用\verb|./semester|执行文件。\par
\textbf{注：>会覆盖文件内容，>>用于在文件末尾追加内容}\\
\includegraphics[width=1\textwidth]{./pictures/3.png}

\subsection{使用 | 和 > ，将 semester 文件输出的最后更改日期信息，写入当前目录下的 last-modified.txt 的文件中}
\subsubsection{管道操作符 |}
| 用于将左边的命令的输出内容传递给右边的命令
\subsubsection{行过滤工具 grep}
grep用于查找符合条件的行并输出\par
\verb|grep last-modified|\quad 可以查找有last-modified字样的行并输出
\subsubsection{实现}
\begin{center}
\includegraphics[width=1\textwidth]{./pictures/4.1.png}\\
\includegraphics[width=1\textwidth]{./pictures/4.2.png}
\end{center}

\subsection{输入输出}
\verb|read 变量名| \quad 可将用户输入内容赋值给变量\par
echo输出的字符串中用\verb|$变量名|表示变量\\
\includegraphics[width=1\textwidth]{./pictures/变量输入输出1.png}\par
echo -n 为不换行输出\\
示例：
\begin{lstlisting}
    #!/bin/bash

echo "请输入用户名:"
read name
echo -n "您好，$name"
echo "！！！"

\end{lstlisting}
\includegraphics[width=1\textwidth]{./pictures/变量输入输出3.png}\par
\textbf{遇到的问题：}\par

一开始会报错\\
\includegraphics[width=1\textwidth]{./pictures/变量输入输出2.png}\par
原因：shell脚本中，命令和参数之间必须有空格。即echo和"输出的内容"间需有空格。

\subsection{循环}
\subsubsection{for循环}
写法一：
\begin{lstlisting}
    for (( 表达式1;表达式2;表达式3 )) ; do
    命令
    done
\end{lstlisting}

写法二：
\begin{lstlisting}
for i in {1..10}
do echo $i 
done
\end{lstlisting}
\includegraphics[width=1\textwidth]{./pictures/for2.png}\par

\subsubsection{while循环}
\begin{lstlisting}
    while[[$变量1 -lt $变量2]]do
    命令
    done
\end{lstlisting}
shell中比较数值的操作符：\\
\begin{table}[H]
    \centering
    \begin{tabular}{|c|c|}
        \hline
        操作符 & 含义\\
        \hline
        -eq & 等于\\
        \hline
        -ne & 不等于\\
        \hline
        -ge & 大于等于\\
        \hline
        -le & 小于等于\\
        \hline
        -gt & 大于\\
        \hline
        -lt & 小于\\
        \hline
    \end{tabular}
\end{table}
\subsection{猜字游戏}
\begin{lstlisting}
    #!/bin/bash

    number=$(shuf -i 1-10 -n 1)
    while [[ $num -ne $number ]] do
    echo "请输入1-10之间的数字"
    read num
    if [[ $num -eq $number ]];then
        echo "恭喜你猜对了"
    elif [[ $num -lt $number ]];then
        echo "猜小了"
    else
        echo "猜大了"
    fi
    done
\end{lstlisting}
\includegraphics[width=1\textwidth]{./pictures/game.png}\par

\subsection{编写两个 bash 函数 marco 和 polo 执行下面的操作。 每当你执行 marco 时，当前的工作目录应当以某种形式保存，当执行 polo 时，无论现在处在什么目录下，都应当 cd 回到当时执行 marco 的目录。 为了方便 debug，你可以把代码写在单独的文件 marco.sh 中，并通过 source marco.sh 命令，（重新）加载函数。}
代码：
\begin{lstlisting}
    #!/bin/bash

marco(){
	echo "$(pwd)" > C:/Users/19355/Desktop/大二暑假/系统开发工具基础/1/tool_class_2024_sum/week2/history.log
	echo "已保存目录"
}

polo(){
	cd "$(cat  C:/Users/19355/Desktop/大二暑假/系统开发工具基础/1/tool_class_2024_sum/week2/history.log)"
}
\end{lstlisting}\par
\textbf{解释：}\\
1、\verb|$()|为命令替换符，可将内容替换为括号中命令执行后的内容。\\
2、\verb|cat 文件地址|\quad 用于打开文件并输出文件内容\\
运行截图：\\
\includegraphics[width=1\textwidth]{./pictures/8.png}

\section{Vim}
\subsection{vim中的不同模式以及进入方式}
\begin{tabular}{c|c}
    
    模式 & 进入方式\\
    \hline
    normal & vim打开文件后默认进入的模式\\
    \hline
    \multirow{8}{*}{insert} & 在normal下有多重方式进入。如输入i,在光标之前开始输入\\ 
    & a 光标之后开始输入\\ 
    & o 下方插入一行开始输入\\
    & s 删除当前光标字符，开始输入\\
    & I 从本行开头输入\\
    & A 从本行结尾输入\\
    & O 上方插入一行开始输入\\
    & S 删除当前行并输入\\ 
    \hline
    command & 在normal下输入:进入\\
    \hline
    visual & 在normal下输入v进入\\
\end{tabular}

\subsection{退出vim的方式}
在normal模式下输入\verb|:wq| 为保存并退出\par
\verb|:q|为直接退出\par
\verb|:q!|为强制退出

\subsection{搜索}
在命令行模式下，用\quad \verb|/要搜索的单词|\quad 可以使光标跳到该单词前面

\subsection{cw}
在normal模式下，输入\verb|cw|可以删除光标后的一个单词并进入insert模式。

\subsection{替换}
（在命令行模式下输入）\par
格式：
\begin{lstlisting}
    {作用范围}s/{目标}/{替换}/{替换标志}
\end{lstlisting}\par
如：
\begin{lstlisting}
    %s/sort/array/g
\end{lstlisting}\par
作用范围：
\begin{table}[H]
    \centering
    \begin{tabular}{|c|c|}
    \hline
    输入内容 & 替换方式\\
    \hline
    \verb|%| & 全局替换\\
    \hline
    \verb|.|或不输入 & 当前行替换\\
    \hline
    行号1,行号2 & 指定行替换（从行号1到行号2）\\
    \hline
\end{tabular}\\
注：在visual模式下输入\verb|：|后会自动输入\verb|'<,'>| 它表示作用范围是当前选定的内容
\end{table}

\subsection{跳转行}
\verb|行数j| 用于光标向下多少行,如5j表示光标向下5行\par
\verb|行数k| 用于光标向上多少行

\subsection{重复操作命令与撤销操作命令}
重复操作： 在normal模式下输入\verb|.|\par
撤销操作： 在normal模式下输入u

\subsection{通过vimrc文件自定义vim}
\begin{lstlisting}
    syntax on %打开语法高亮
    set number %显示行号
    set relativenumber %开启相对行号
\end{lstlisting}
\includegraphics[width=1\textwidth]{./pictures/passage.png}
开启相对行号后，vim会自动计算其他行与当前行的相对行差，方便在跳转时直接输入移动的行数。

\section{}
\end{document}
